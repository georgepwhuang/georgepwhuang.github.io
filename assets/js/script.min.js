const links=document.getElementsByTagName("a");for(var i=0;i<links.length;i++)links[i].target="_blank";const modeToggleBtn=document.getElementById("mode-toggle-btn"),modeBtn=document.getElementById("mood-btn"),modeIcon=document.getElementById("mood-icon"),lightModeKey="light-mode",updateLightMode=e=>{document.body.classList.toggle("light-mode",e),modeBtn.classList.toggle("light-mode",e),e?(modeIcon.classList.remove("fa-moon"),modeIcon.classList.add("fa-sun")):(modeIcon.classList.remove("fa-sun"),modeIcon.classList.add("fa-moon")),localStorage.setItem("light-mode",e?"enabled":"disabled")};localStorage.getItem("light-mode")?updateLightMode("enabled"===localStorage.getItem("light-mode")):window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches&&updateLightMode(!0),modeToggleBtn.addEventListener("click",(()=>{updateLightMode("enabled"!==localStorage.getItem("light-mode"))}));const navigationLinks=document.querySelectorAll("[data-nav-link]"),pages=document.querySelectorAll("[data-page]");for(let e=0;e<navigationLinks.length;e++)navigationLinks[e].addEventListener("click",(function(){for(let e=0;e<pages.length;e++)this.innerHTML.toLowerCase()===pages[e].dataset.page?(pages[e].classList.add("active"),navigationLinks[e].classList.add("active"),window.scrollTo(0,0)):(pages[e].classList.remove("active"),navigationLinks[e].classList.remove("active"))}));const elementToggleFunc=function(e){e.classList.toggle("active")},sidebar=document.querySelector("[data-sidebar]"),sidebarBtn=document.querySelector("[data-sidebar-btn]");sidebarBtn.addEventListener("click",(function(){sidebar.classList.toggle("active")}));const modalContainer=document.querySelector("[data-modal-container]"),modalCloseBtn=document.querySelector("[data-modal-close-btn]"),overlay=document.querySelector("[data-overlay]"),modalTitle=document.querySelector("[data-modal-title]"),modalText=document.querySelector("[data-modal-text]"),testimonialsModalFunc=function(){modalContainer.classList.toggle("active"),overlay.classList.toggle("active")};function copyToClipboard(e){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(t){return console.warn("Copy to clipboard failed.",t),prompt("Copy to clipboard: Ctrl+C, Enter",e)}finally{document.body.removeChild(t)}}}function loadModal(e){modalTitle.innerHTML=e.querySelector("[data-testimonials-title]").innerHTML,modalText.innerHTML=e.querySelector("[data-testimonials-text]").innerHTML,testimonialsModalFunc()}function copyText(){copyToClipboard(modalText.textContent.trim()),alert("BibTeX copied!")}function download(){var e=modalText.textContent.trim(),t=e.split(",")[0].split("{")[1]+".bib";const a=document.createElement("a"),n=new Blob([e],{type:"data:text/plain;charset=utf-8"}),o=URL.createObjectURL(n,{oneTimeOnly:!0});a.setAttribute("href",o),a.setAttribute("download",t),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o)}function toggleBib(e){id=e.getAttribute("key"),abs=document.getElementById("bib"+id),abs.classList.toggle("active"),abs.classList.contains("active")?abs.style.maxHeight=abs.scrollHeight+"px":abs.style.maxHeight="0"}modalCloseBtn.addEventListener("click",testimonialsModalFunc),overlay.addEventListener("click",testimonialsModalFunc);const auxData=YAML.load("files/aux.yml"),newsData=YAML.load("files/news.yml");function findAux(e){e.querySelectorAll(".bibitem").forEach((e=>{id=e.querySelector(".entry").getAttribute("key"),itemData=auxData[id];for(const t in itemData)itemData.hasOwnProperty(t)&&("abs"==t?(e.querySelector(".clickables").insertAdjacentHTML("afterbegin",'<span><a target="_self" role="button" key='+id+' onclick="toggleBib(this)">abs</a></span> '),e.querySelector(".abs").insertAdjacentHTML("afterbegin","<pre>"+itemData.abs+"</pre> ")):"note"==t?e.querySelector(".note").insertAdjacentHTML("afterbegin","<br/><i> — "+itemData.note+"— </i>"):e.querySelector(".clickables").insertAdjacentHTML("beforeend",'<span><a target="_blank" href='+itemData[t]+' role="button">'+t+"</a></span> "))}))}const month=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function toDateString(e){const t=(new Date).getFullYear();let a=e.getMonth(),n=e.getDate();return n<10&&(n="0"+n),n+month[a]+t}function parseForLinks(e){return e.replace(/\[([^\]]+)\]\((https?:\/\/[^\s)]+)\)/g,'<a href="$2">$1</a>')}for(let e=0,t=newsData.length;e<t;e++)newsData[e].date=new Date(newsData[e].date);newsData.sort((function(e,t){return t.date-e.date})),minlen=Math.min(7,newsData.length),htmlStr="",area=document.getElementById("news");for(let e=0;e<minlen;e++)item=newsData[e],htmlStr+=`<li><span class="badge">${toDateString(item.date)}</span><p>${parseForLinks(item.headline)}</p></li>`;area.innerHTML=htmlStr,htmlStr="",area_older=document.getElementById("olds");for(let e=minlen;e<newsData.length;e++)item=newsData[e],htmlStr+=`<li><span class="badge">${toDateString(item.date)}</span><p>${parseForLinks(item.headline)}</p></li>`;function toggleNews(){const e=document.getElementById("olds");e.classList.toggle("active");const t=document.getElementById("news-btn");t.classList.toggle("active"),t.getElementsByTagName("i")[0].classList.toggle("fa-angles-down"),t.getElementsByTagName("i")[0].classList.toggle("fa-angles-up"),t.classList.contains("active")?(e.style.maxHeight=e.scrollHeight+"px",t.getElementsByTagName("span")[0].textContent="Less News"):(e.style.maxHeight="0",t.getElementsByTagName("span")[0].textContent="More News")}function encodeEmail(e,t){for(var a=make2DigitsLong(t.toString(16)),n="",o=0;o<e.length;o++){n+=make2DigitsLong((e.charCodeAt(o)^t).toString(16))}return n+=a}function make2DigitsLong(e){return 1===e.length?"0"+e:e}function decodeEmail(e){for(var t="",a=e.substr(e.length-2),n=parseInt(a,16),o=0;o<e.length-2;o+=2){var i=e.substr(o,2),l=parseInt(i,16)^n;t+=String.fromCharCode(l)}return t}area_older.innerHTML=htmlStr,Array.from(document.getElementsByClassName("last-modified")).forEach((e=>{e.innerHTML=new Date(document.lastModified).toLocaleString("en-US",{month:"short",year:"numeric"})}));var protectedElements=document.getElementsByClassName("protected");for(i=0;i<protectedElements.length;i++){var encoded=protectedElements[i].getAttribute("eml"),decoded=decodeEmail(encoded);protectedElements[i].href="mailto:"+decoded}